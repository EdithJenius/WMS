# 🚀 部署检查清单

## ✅ 部署前准备

### 1. 代码检查
- [ ] 所有代码通过 ESLint 检查
- [ ] TypeScript 编译无错误
- [ ] 所有功能测试通过
- [ ] 移除调试代码和 console.log

### 2. 依赖检查
- [ ] package.json 依赖版本正确
- [ ] 无过时的依赖包
- [ ] 生产依赖和开发依赖分离正确

### 3. 环境变量
- [ ] 创建 .env.example 文件
- [ ] 敏感信息不提交到代码库
- [ ] 生产环境变量清单准备完毕

## 🗄️ 数据库迁移

### 1. 选择数据库提供商
- [ ] 选择目标数据库（PlanetScale/Supabase/其他）
- [ ] 注册账号并创建数据库实例
- [ ] 获取数据库连接字符串

### 2. 修改配置
- [ ] 更新 prisma/schema.prisma 中的 provider
- [ ] 重新生成 Prisma 客户端
- [ ] 测试数据库连接

### 3. 数据迁移（如有现有数据）
- [ ] 备份现有数据
- [ ] 运行数据迁移脚本
- [ ] 验证数据完整性

## 📦 Git 准备

### 1. 仓库清理
- [ ] 创建 .gitignore 文件
- [ ] 确保敏感文件不被跟踪
- [ ] 清理不必要的文件

### 2. 提交代码
- [ ] 初始化 Git 仓库
- [ ] 添加所有必要文件
- [ ] 创建初始提交
- [ ] 推送到 GitHub

## 🌐 Vercel 部署

### 1. Vercel 配置
- [ ] 注册/登录 Vercel 账号
- [ ] 连接 GitHub 仓库
- [ ] 配置构建设置

### 2. 环境变量设置
- [ ] 在 Vercel 中设置环境变量
- [ ] DATABASE_URL
- [ ] NEXTAUTH_URL
- [ ] NEXTAUTH_SECRET
- [ ] 其他必要的环境变量

### 3. 部署设置
- [ ] 配置 vercel.json
- [ ] 设置函数超时时间
- [ ] 配置域名（如有）

## 🧪 部署后测试

### 1. 基本功能测试
- [ ] 应用能够正常访问
- [ ] 用户登录/注册功能正常
- [ ] 所有页面加载正常

### 2. 核心功能测试
- [ ] 进货管理功能正常
- [ ] 出货管理功能正常
- [ ] 库存查询功能正常
- [ ] 退货管理功能正常

### 3. 数据库测试
- [ ] 数据库连接正常
- [ ] 数据读写正常
- [ ] 事务处理正常

### 4. 移动端测试
- [ ] 移动端页面适配正常
- [ ] 触摸操作正常
- [ ] 响应式布局正常

## 🔧 生产环境优化

### 1. 性能优化
- [ ] 启用缓存策略
- [ ] 优化图片和静态资源
- [ ] 配置 CDN

### 2. 安全性
- [ ] 启用 HTTPS
- [ ] 配置安全头
- [ ] 设置访问限制

### 3. 监控和日志
- [ ] 配置错误监控
- [ ] 设置访问日志
- [ ] 配置性能监控

## 📋 部署后维护

### 1. 备份策略
- [ ] 设置定期数据库备份
- [ ] 备份重要文件
- [ ] 测试恢复流程

### 2. 更新和维护
- [ ] 定期更新依赖包
- [ ] 监控系统性能
- [ ] 处理安全问题

### 3. 文档更新
- [ ] 更新部署文档
- [ ] 记录已知问题
- [ ] 维护版本说明

## 🚨 常见问题检查

### 1. 环境变量问题
- [ ] 所有必需的环境变量都已设置
- [ ] 环境变量格式正确
- [ ] 无敏感信息泄露

### 2. 数据库连接问题
- [ ] 数据库连接字符串正确
- [ ] 数据库可访问
- [ ] 连接池配置正确

### 3. 构建问题
- [ ] Node.js 版本兼容
- [ ] 依赖版本正确
- [ ] 构建脚本正确

### 4. 运行时问题
- [ ] 函数执行时间不超限
- [ ] 内存使用正常
- [ ] 错误处理正确

## 📞 部署支持

### 需要帮助？
- [ ] 查看 Vercel 文档
- [ ] 检查 GitHub Issues
- [ ] 联系技术支持

### 部署成功验证
- [ ] 应用可正常访问
- [ ] 所有功能正常工作
- [ ] 性能符合预期
- [ ] 安全配置正确

---

**⚡ 快速部署命令参考**

```bash
# 1. 安装依赖
npm install

# 2. 生成 Prisma 客户端
npx prisma generate

# 3. 推送数据库结构
npx prisma db push

# 4. 构建项目
npm run build

# 5. 启动生产服务器
npm start

# 6. 部署到 Vercel
vercel --prod
```

**🎯 部署成功标志**
- ✅ Vercel 构建成功
- ✅ 应用可正常访问
- ✅ 数据库连接正常
- ✅ 用户认证正常
- ✅ 核心功能正常
- ✅ 移动端适配正常

---

**祝您部署顺利！🚀**